데이터베이스(DB) 설계 및 운영 시 **Key(키)**는 데이터를 유일하게 식별하거나 테이블 간의 관계를 정의하는 데 중요한 역할을 한다.
---

## 1. 기본 키 (Primary Key)

- **정의**: 각 테이블의 행(row)을 유일하게 식별할 수 있는 하나 이상의 컬럼(속성)
- **특징**:  
  - **유일성(Unique)**: 테이블 내에서 어떤 두 행도 같은 기본 키 값을 가지면 안 된다
  - **비어있을 수 없음(Not Null)**: 기본 키 컬럼은 반드시 값이 존재해야 함
  - **단일성(Single Attribute) 또는 복합성(Composite)**: 한 개의 컬럼으로 구성될 수도 있고, 여러 컬럼을 조합한 복합 기본 키가 될 수도 있음
- **예시**:  
  - `학생` 테이블의 경우, `학번(student_id)`이 기본 키가 될 수 있음
  - 만약 여러 컬럼의 조합이 필요하다면, `수강신청` 테이블에서 `(학생ID, 강의ID)`가 기본 키가 될 수 있음

---

## 2. 후보 키 (Candidate Key)

- **정의**: 테이블 내의 모든 행을 유일하게 식별할 수 있는 속성들의 집합
  하나의 테이블에는 여러 개의 후보 키가 존재할 수 있으며, 그 중 하나가 기본 키로 선택
- **특징**:  
  - 후보 키는 기본 키 후보로, 여러 속성이 후보 키가 될 수 있으나 단 하나만 기본 키로 채택
- **예시**:  
  - `직원` 테이블에서 `사원번호(employee_id)`와 `주민등록번호(ssn)` 모두 각 행을 유일하게 식별할 수 있다면, 이 둘은 후보 키가 될 수 있음
  
---

## 3. 대체 키 (Alternate Key)

- **정의**: 후보 키 중에서 기본 키로 선택되지 않은 나머지 후보 키
- **특징**:  
  - 대체 키 역시 유일성을 보장해야 하며, 필요에 따라 UNIQUE 제약 조건으로 정의
- **예시**:  
  - 위의 직원 테이블에서 기본 키로 `employee_id`를 선택했다면, `ssn`은 대체 키가 될 수 있음
  
---

## 4. 외래 키 (Foreign Key)

- **정의**: 한 테이블의 컬럼이 다른 테이블의 기본 키(또는 대체 키)를 참조할 때, 두 테이블 간의 연결(관계)을 설정하는 키
- **특징**:  
  - **참조 무결성(Referential Integrity)**: 외래 키를 사용하면 데이터의 일관성을 유지할 수 있습니다. 즉, 참조된 값이 없으면 삽입이나 삭제 시 제약 조건에 따라 오류가 발생
  - 두 테이블 간의 관계(예: 일대다, 다대일, 다대다)를 설정할 때 주로 사용됨
- **예시**:  
  - `주문(Order)` 테이블의 `고객ID(customer_id)` 컬럼이 `고객(Customer)` 테이블의 기본 키 `customer_id`를 참조
  
---

## 5. 복합 키 (Composite Key)

- **정의**: 둘 이상의 컬럼을 조합해서 하나의 키를 구성하는 경우. 개별 컬럼으로는 유일성을 보장할 수 없지만, 여러 컬럼을 결합하면 유일성을 만족시킬 때 사용됨.
- **특징**:  
  - 데이터의 복잡한 관계를 표현하는 데 유용하며, 특히 다대다 관계를 관리하는 연결 테이블에서 주로 사용됨
- **예시**:  
  - `수강신청` 테이블에서 `(학생ID, 강의ID)` 조합이 유일하게 유지되어야 하는 경우
  
---

## 6. 대리 키 (Surrogate Key)

- **정의**: 비즈니스적인 의미는 없지만, 시스템 상에서 유일하게 식별할 수 있도록 만들어진 인위적인 키
- **특징**:  
  - 주로 auto-increment(자동 증가) 형태로 생성되며, 데이터의 식별자로 사용
  - 예를 들어, UUID(범용 고유 식별자)도 대리 키로 사용될 수 있음
- **예시**:  
  - 대부분의 RDBMS에서 테이블에 `ID` 컬럼을 추가하여 기본 키로 사용함
  
---

## 7. 유니크 키 (Unique Key)

- **정의**: 테이블 내의 특정 컬럼 또는 컬럼 집합에 대해 중복된 값이 존재하지 않도록 하는 제약 조건
- **특징**:  
  - 기본 키와 유사하게 유일성을 보장하지만, 기본 키와 달리 NULL 값을 허용할 수 있는 경우가 있음(단, DBMS마다 차이가 있음)
  - 후보 키가 될 수 있는 컬럼에 적용하여 데이터의 일관성을 유지할 수 있음
- **예시**:  
  - 이메일 주소나 전화번호와 같이 중복되면 안 되는 데이터를 저장하는 경우
  
---

## 8. 인덱스와 키

- **인덱스(Index)**는 키와 밀접한 관계가 있음
  - **기본 키와 유니크 키**는 인덱스를 자동으로 생성하여 데이터 검색을 빠르게 만들어줌
  - 사용자 정의 인덱스도 성능 향상을 위해 추가할 수 있음
- **주의점**:  
  - 지나치게 많은 인덱스는 데이터 삽입, 수정, 삭제 시 성능 저하를 초래할 수 있으므로 적절하게 관리해야 함

---

## 정리 및 참고 사항

- **관계형 데이터베이스**에서는 데이터 무결성과 효율적인 검색을 위해 키와 인덱스를 매우 중요하게 생각한다.
- **설계 시 고려 사항**:  
  - 어떤 컬럼(혹은 컬럼 조합)이 테이블 내 행을 가장 잘 식별할 수 있는지 판단하고, 후보 키를 도출
  - 이후 비즈니스 로직이나 데이터 처리 효율성을 고려하여 기본 키를 선정
  - 테이블 간의 관계를 명확히 하기 위해 외래 키 제약 조건을 추가하여 참조 무결성을 유지
- **DBMS마다 차이**:  
  - MySQL, PostgreSQL, Oracle 등 DBMS마다 키와 인덱스에 대한 구현 방식이나 제약 조건 적용이 다를 수 있으므로 문서를 확인하는 것이 좋다.

---
